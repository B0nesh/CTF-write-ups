There is a website running at http://2018shell.picoctf.com:59464 ([link](http://2018shell.picoctf.com:59464)). Do you think you can log us in? Try to see if you can login!
![problme](http://i.imgur.com/AJrEulI.png)

# :uk: Solution :uk:
---
###### When we open the page, we see that it has a support page and a loging page, let's head first to the support page, it may cointain some useful info for the challenge.
---
![home](http://i.imgur.com/kDd7JBA.png)

---
###### We can read in one of the "tickets" that one guy is getting a "SQL Error" which gives us the clue that the site may be vulnerable to SQL Injections.
---
![support](http://i.imgur.com/EJt75Qb.png)

---
###### Now we head to the Log In page, and after inspecting it a bit, we see that inside the POST method, there's a hidden debug with the value `0`, let's change it to 1 and see what it returns us after logging in.
---
![inspect](http://i.imgur.com/NXm6AOP.png)

---
###### It gives us the SQL query, which is `SELECT * FROM users WHERE name='a' AND password='a'` so we are going to change it to make it look like this `SELECT * FROM users WHERE name='' or 1=1 -- AND password='a'` the string after `--` is commented out, so it will be ignored, this way we will retrieve every user from the dabase without matching the right password, cause 1=1 is always `True`.
---
![query](http://i.imgur.com/GXipZzK.png)
![injection](http://i.imgur.com/J6jqnIy.png)
![flag](http://i.imgur.com/sk1Pjwv.png)

---
###### I also wrote a script for retrieving the flag.
---
![script](http://i.imgur.com/ovjtWC2.png)


# :es: Solución :es:
---
###### Cuando abrimos la página, vemos que que tiene un apartado de soporte y la página de login, vamos primero a la página de soporte, quizá contenga algo de información útil.
---
![home](http://i.imgur.com/kDd7JBA.png)

---
###### Podemos leer en uno de los tickets, que una persona está recibiendo un "SQL Error" lo que nos da la pista de que posiblemente el sitio sea susceptible a una inyección SQL.
---
![support](http://i.imgur.com/EJt75Qb.png)

---
###### Ahora tenemos que ir a la página del login, y después de inspeccionarla un poco, podemos ver que dentro del POST, hay un debug escondido con el valor `0`, vamos a cambiarlo a 1 y a ver qué nos devuelve al intentar loguear.
---
![inspect](http://i.imgur.com/NXm6AOP.png)

---
###### Nos devuelve el SQL query, el cual es `SELECT * FROM users WHERE name='a' AND password='a'` así que vamos a cambiarlo para que sea así `SELECT * FROM users WHERE name='' or 1=1 -- AND password='a'` el texto después de `--` es comentario, así que es ignorado, de esta forma recibiremos todos los usuarios de la base de datos aún sin saber la password, porque 1=1 siempre es `True`.
---
![query](http://i.imgur.com/GXipZzK.png)
![injection](http://i.imgur.com/J6jqnIy.png)
![flag](http://i.imgur.com/sk1Pjwv.png)


---
###### I also wrote a script for retrieving the flag.
---
![script](http://i.imgur.com/ovjtWC2.png)


