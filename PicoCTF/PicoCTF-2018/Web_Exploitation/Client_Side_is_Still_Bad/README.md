I forgot my password again, but this time there doesn't seem to be a reset, can you help me? http://2018shell.picoctf.com:8420

# Solution
---
The name of the challenge points us that the flag will be involved in the JS part.

In fact, if we see the source of the html, we can check that the flag is stored inside the variable of the JS.

```
<script type="text/javascript">
  function verify() {
    checkpass = document.getElementById("pass").value;
    split = 4;
    if (checkpass.substring(split*7, split*8) == '}') {
      if (checkpass.substring(split*6, split*7) == '06ac') {
        if (checkpass.substring(split*5, split*6) == 'd_5e') {
         if (checkpass.substring(split*4, split*5) == 's_ba') {
          if (checkpass.substring(split*3, split*4) == 'nt_i') {
            if (checkpass.substring(split*2, split*3) == 'clie') {
              if (checkpass.substring(split, split*2) == 'CTF{') {
                if (checkpass.substring(0,split) == 'pico') {
                  alert("You got the flag!")
                  }
                }
              }
      
            }
          }
        }
      }
    }
    else {
      alert("Incorrect password");
    }
  }
</script>
```
I wrote both a python and bash script to read the index.html file and then extract the flag in the format we want, so we don't have to do it by hand.

In bash we will be using:
* `tac` for reading from the bottom to the start, but in readable mode, not just a `rev` method.
* `grep` for getting only the pieces of the flag.
* `cut` for removing the ' chars, which we used to extract the desired flag.
* `tr` for removing the newline characters and getting the flag.

For python we are using:
* `re` module for getting the right regex.

# Solución
---
El propio nombre de la prueba nos indica que la flag puede estar en el JS.

Y así es, la flag la podemos encontrar en la función del JS al ver el sourcecode del .html.

``` 
<script type="text/javascript">
  function verify() {
    checkpass = document.getElementById("pass").value;
    split = 4;
    if (checkpass.substring(split*7, split*8) == '}') {
      if (checkpass.substring(split*6, split*7) == '06ac') {
        if (checkpass.substring(split*5, split*6) == 'd_5e') {
         if (checkpass.substring(split*4, split*5) == 's_ba') {
          if (checkpass.substring(split*3, split*4) == 'nt_i') {
            if (checkpass.substring(split*2, split*3) == 'clie') {
              if (checkpass.substring(split, split*2) == 'CTF{') {
                if (checkpass.substring(0,split) == 'pico') {
                  alert("You got the flag!")
                  }
                }
              }

            }
          }
        }
      }
    }
    else {
      alert("Incorrect password");
    }
  }
</script>
```

He escrito tanto un script en python como en bash, para no tener que sacar la flag a mano, ya que es laborioso.

Para el script de bash, usaremos:

* `tac` para ver el texto al reves, pero no invertido como en `rev`, es decir, desde el final hasta en principio, pero en formato legible.
* `grep` para separar la flag.
* `tr` para quitar las newlines (\n) del texto.

Para el script de python, usaremos:
* `re` para crear el regex necesario.
